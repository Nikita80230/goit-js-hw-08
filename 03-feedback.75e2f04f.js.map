{"mappings":"oeAsBA,IAAAA,EAAAC,EAAA,SAGA,IAAIC,EAAO,GAEX,MAAMC,EAAOC,SAASC,cAAc,kBACpCF,EAAKG,iBAAiB,SAAS,EAAAN,EAAAO,WAK/B,WAEEL,EAAKM,MAAQL,EAAKM,SAASD,MAAME,MACjCR,EAAKS,QAAUR,EAAKM,SAASE,QAAQD,MAErCE,aAAaC,QAdH,sBAcgBC,KAAKC,UAAUb,MAVS,MACpDC,EAAKG,iBAAiB,UAoBtB,SAAkBU,GAChBA,EAAMC,iBACNC,QAAQC,IAAIjB,GAEZc,EAAMI,cAAcC,QACpBT,aAAaU,WA9BH,0BAiBZ,WACE,MAAMC,EAAWT,KAAKU,MAAMZ,aAAaa,QAlB/B,wBAmBPF,IACDpB,EAAKM,SAASD,MAAME,MAAQa,EAASf,MACrCL,EAAKM,SAASE,QAAQD,MAAQa,EAASZ,SAd3Ce","sources":["src/js/03-feedback.js"],"sourcesContent":["// Завдання 3 - форма зворотного зв'язку\n// HTML містить розмітку форми. Напиши скрипт, який буде зберігати значення полів у локальне сховище, коли користувач щось друкує.\n\n// <form class=\"feedback-form\" autocomplete=\"off\">\n//   <label>\n//     Email\n//     <input type=\"email\" name=\"email\" autofocus />\n//   </label>\n//   <label>\n//     Message\n//     <textarea name=\"message\" rows=\"8\"></textarea>\n//   </label>\n//   <button type=\"submit\">Submit</button>\n// </form>\n\n// Виконуй це завдання у файлах 03-feedback.html і 03-feedback.js. Розбий його на декілька підзавдань:\n\n// Відстежуй на формі подію input, і щоразу записуй у локальне сховище об'єкт з полями email і message, у яких зберігай поточні значення полів форми. Нехай ключем для сховища буде рядок \"feedback-form-state\".\n// Під час завантаження сторінки перевіряй стан сховища, і якщо там є збережені дані, заповнюй ними поля форми. В іншому випадку поля повинні бути порожніми.\n// Під час сабміту форми очищуй сховище і поля форми, а також виводь у консоль об'єкт з полями email, message та їхніми поточними значеннями.\n// Зроби так, щоб сховище оновлювалось не частіше, ніж раз на 500 мілісекунд. Для цього додай до проекту і використовуй бібліотеку lodash.throttle.\n\nimport { debounce } from \"lodash\";\n\nconst KEY = 'feedback-form-state';\nlet data = {};\n\nconst form = document.querySelector('.feedback-form');\nform.addEventListener(\"input\", debounce((fillForm), 300));\nform.addEventListener(\"submit\", onSubmit);\n\nloadData();\n\nfunction fillForm() {\n  \n  data.email = form.elements.email.value;\n  data.message = form.elements.message.value;\n  \n  localStorage.setItem(KEY, JSON.stringify(data))\n}\n\nfunction loadData() {\n  const saveData = JSON.parse(localStorage.getItem(KEY));\n  if(saveData) {\n    form.elements.email.value = saveData.email;\n    form.elements.message.value = saveData.message;\n  }\n}\n\nfunction onSubmit(event) {\n  event.preventDefault()\n  console.log(data)\n  \n  event.currentTarget.reset();\n  localStorage.removeItem(KEY);\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// import throttle from 'lodash.throttle';\n\n// const KEY = 'feedback-form-state';\n// const formData = {};\n\n// const form = document.querySelector('.feedback-form');\n\n// form.addEventListener('submit', onFormSubmit);\n// form.addEventListener('input', throttle(onFormInput, 500));\n\n// updateForm();\n\n// function updateForm() {\n//   const savedData = localStorage.getItem(KEY);\n//   if (savedData) {\n//     const { email, message } = JSON.parse(savedData);\n//     form.email.value = email;\n//     form.message.value = message;\n//     formData.email = email;\n//     formData.message = message;\n//   }\n// }\n\n// function onFormInput(event) {\n//   formData.email = form.elements.email.value;\n//   formData.message = form.elements.message.value;\n//   localStorage.setItem(KEY, JSON.stringify(formData));\n// }\n\n// function onFormSubmit(event) {\n//   event.preventDefault();\n\n//   const formDataToSend = new FormData(event.currentTarget);\n//   formDataToSend.forEach((value, name) => {\n//     formData[name] = value;\n//   });\n\n//   event.currentTarget.reset();\n//   localStorage.removeItem(KEY);\n\n//   console.log(formData);\n// }\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$data","$945622fd0f572e60$var$form","document","querySelector","addEventListener","debounce","email","elements","value","message","localStorage","setItem","JSON","stringify","event","preventDefault","console","log","currentTarget","reset","removeItem","saveData","parse","getItem","$945622fd0f572e60$var$loadData"],"version":3,"file":"03-feedback.75e2f04f.js.map"}